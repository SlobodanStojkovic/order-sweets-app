{"version":3,"sources":["components/Cart/CartItem.module.css","components/Cart/Cart.module.css","components/Layout/HeaderCartButton.module.css","components/UI/Modal/Modal.module.css","components/Sweets/SweetItem/SweetItem.module.css","components/Layout/Header.module.css","components/UI/Card/Card.module.css","components/Sweets/AvailableSweets.module.css","components/UI/Input/Input.module.css","components/Sweets/SweetItem/SweetItemForm.module.css","components/Sweets/SweetsSummary.module.css","store/cart-context.js","components/UI/Modal/Modal.js","components/Cart/CartItem.js","components/Cart/Cart.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/UI/Card/Card.js","components/UI/Input/Input.js","components/Sweets/SweetItem/SweetItemForm.js","components/Sweets/SweetItem/SweetItem.js","components/Sweets/AvailableSweets.js","components/Sweets/SweetsSummary.js","components/Sweets/Sweets.js","store/CartProvider.js","App.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","Backdrop","props","className","classes","backdrop","onClick","onClose","ModalOverlay","modal","content","children","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","price","toFixed","name","summary","amount","actions","onRemove","onAdd","Cart","cartCtx","useContext","hasItems","length","cartItemAddHandler","cartItemRemoveHandler","cartItems","map","bind","total","button","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","useState","btnIsHighlighted","setBtnIsHighlighted","numberOfCartItems","reduce","currentNumber","btnClasses","bump","useEffect","timer","setTimeout","clearTimeout","icon","badge","Header","header","onShowCartModal","Card","card","Input","forwardRef","ref","input","htmlFor","label","SweetItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","SweetItem","sweet","description","DUMMY_SWEETS","AvailableSweets","sweets","SweetsSummary","Sweets","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","showCartModal","setShowCartModal","render","StrictMode"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,YAAY,4BAA4B,QAAU,0BAA0B,MAAQ,wBAAwB,OAAS,yBAAyB,QAAU,4B,gBCA1KD,EAAOC,QAAU,CAAC,aAAa,yBAAyB,MAAQ,oBAAoB,QAAU,sBAAsB,cAAc,0BAA0B,OAAS,uB,kBCArKD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,KAAO,+BAA+B,MAAQ,gCAAgC,KAAO,iC,iBCAjJD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,qBAAqB,aAAa,4B,gBCA/FD,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,YAAc,+BAA+B,MAAQ,2B,kBCAxGD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAa,6B,gBCA/DD,EAAOC,QAAU,CAAC,KAAO,qB,gBCAzBD,EAAOC,QAAU,CAAC,OAAS,gCAAgC,gBAAgB,uCAAuC,gBAAgB,yC,gBCAlID,EAAOC,QAAU,CAAC,MAAQ,uB,gBCA1BD,EAAOC,QAAU,CAAC,KAAO,8B,gBCAzBD,EAAOC,QAAU,CAAC,QAAU,iC,uICCfC,EAAcC,IAAMC,cAAc,CAC3CC,MAAO,GACPC,YAAa,EACbC,QAAS,SAACC,KACVC,WAAY,SAACC,O,wBCHXC,EAAW,SAACC,GACd,OAAO,qBAAKC,UAAWC,IAAQC,SAAUC,QAASJ,EAAMK,WAGtDC,EAAe,SAACN,GAClB,OACI,qBAAKC,UAAWC,IAAQK,MAAxB,SACI,qBAAKN,UAAWC,IAAQM,QAAxB,SAAkCR,EAAMS,cAK9CC,EAAgBC,SAASC,eAAe,YAEjCC,EAAQ,SAACb,GAClB,OACI,qCACKc,IAASC,aACN,cAAC,EAAD,CAAUV,QAASL,EAAMK,UACzBK,GAEHI,IAASC,aACN,cAAC,EAAD,UAAef,EAAMS,WACrBC,O,gBCxBHM,EAAW,SAAChB,GACrB,IAAMiB,EAAK,WAAOjB,EAAMiB,MAAMC,QAAQ,IAEtC,OACI,qBAAIjB,UAAWC,IAAQ,aAAvB,UACI,gCACI,6BAAKF,EAAMmB,OACX,sBAAKlB,UAAWC,IAAQkB,QAAxB,UACI,sBAAMnB,UAAWC,IAAQe,MAAzB,SAAiCA,IACjC,uBAAMhB,UAAWC,IAAQmB,OAAzB,eAAoCrB,EAAMqB,gBAGlD,sBAAKpB,UAAWC,IAAQoB,QAAxB,UACI,wBAAQlB,QAASJ,EAAMuB,SAAvB,oBACA,wBAAQnB,QAASJ,EAAMwB,MAAvB,sB,gBCVHC,EAAO,SAACzB,GACjB,IAAM0B,EAAUC,qBAAWrC,GAErBI,EAAW,WAAOgC,EAAQhC,YAAYwB,QAAQ,IAE9CU,EAAWF,EAAQjC,MAAMoC,OAAS,EAElCC,EAAqB,SAAClC,GACxB8B,EAAQ/B,QAAR,2BAAqBC,GAArB,IAA2ByB,OAAQ,MAGjCU,EAAwB,SAACjC,GAC3B4B,EAAQ7B,WAAWC,IAGjBkC,EACF,oBAAI/B,UAAWC,IAAQ,cAAvB,SACKwB,EAAQjC,MAAMwC,KAAI,SAACrC,GAAD,OACf,cAAC,EAAD,CAEIuB,KAAMvB,EAAKuB,KACXE,OAAQzB,EAAKyB,OACbJ,MAAOrB,EAAKqB,MACZO,MAAOM,EAAmBI,KAAK,KAAMtC,GACrC2B,SAAUQ,EAAsBG,KAAK,KAAMtC,EAAKE,KAL3CF,EAAKE,SAW1B,OACI,eAAC,EAAD,CAAOO,QAASL,EAAMK,QAAtB,UACK2B,EACD,sBAAK/B,UAAWC,IAAQiC,MAAxB,UACI,gDACA,+BAAOzC,OAEX,sBAAKO,UAAWC,IAAQoB,QAAxB,UACI,wBACIrB,UAAWC,IAAQ,eACnBE,QAASJ,EAAMK,QAFnB,mBAMCuB,GAAY,wBAAQ3B,UAAWC,IAAQkC,OAA3B,0B,iBClDhBC,EAAW,WACpB,OACI,qBACIC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHT,SAKI,sBAAMC,EAAE,+R,gBCFPC,EAAmB,SAAC1C,GAC7B,MAAgD2C,oBAAS,GAAzD,mBAAOC,EAAP,KAAyBC,EAAzB,KAEMnB,EAAUC,qBAAWrC,GAErBwD,EAAoBpB,EAAQjC,MAAMsD,QAAO,SAACC,EAAepD,GAC3D,OAAOoD,EAAgBpD,EAAKyB,SAC7B,GAEG4B,EAAU,UAAM/C,IAAQkC,OAAd,YACZQ,EAAmB1C,IAAQgD,KAAO,IAG9BzD,EAAUiC,EAAVjC,MAiBR,OAfA0D,qBAAU,WACN,GAA6B,IAAzBzB,EAAQjC,MAAMoC,OAAlB,CAGAgB,GAAoB,GAEpB,IAAMO,EAAQC,YAAW,WACrBR,GAAoB,KACrB,KAEH,OAAO,WACHS,aAAaF,OAElB,CAAC3D,IAGA,yBAAQQ,UAAWgD,EAAY7C,QAASJ,EAAMI,QAA9C,UACI,sBAAMH,UAAWC,IAAQqD,KAAzB,SACI,cAAC,EAAD,MAEJ,6CACA,sBAAMtD,UAAWC,IAAQsD,MAAzB,SAAiCV,QCrChCW,EAAS,SAACzD,GACnB,OACI,mCACI,yBAAQC,UAAWC,IAAQwD,OAA3B,UACI,iDACA,cAAC,EAAD,CAAkBtD,QAASJ,EAAM2D,wB,iBCPpCC,EAAO,SAAC5D,GACjB,OAAO,qBAAKC,UAAWC,IAAQ2D,KAAxB,SAA+B7D,EAAMS,Y,kCCAnCqD,EAAQvE,IAAMwE,YAAW,SAAC/D,EAAOgE,GAC1C,OACI,sBAAK/D,UAAWC,IAAQ+D,MAAxB,UACI,uBAAOC,QAASlE,EAAMiE,MAAMnE,GAA5B,SAAiCE,EAAMmE,QACvC,mCAAOH,IAAKA,GAAShE,EAAMiE,c,iBCH1BG,EAAgB,SAACpE,GAC1B,MAA0C2C,oBAAS,GAAnD,mBAAO0B,EAAP,KAAsBC,EAAtB,KACMC,EAAiBC,mBAoBvB,OACI,uBAAMvE,UAAWC,IAAQuE,KAAMC,SAnBb,SAACC,GACnBA,EAAMC,iBAEN,IAAMC,EAAgBN,EAAeO,QAAQC,MACvCC,GAAuBH,EAGO,IAAhCA,EAAcI,OAAOpD,QACrBmD,EAAsB,GACtBA,EAAsB,EAEtBV,GAAiB,GAIrBtE,EAAMkF,YAAYF,IAIlB,UACI,cAAClB,EAAD,CACIE,IAAKO,EACLJ,MAAM,SACNF,MAAO,CACHnE,GAAI,SACJqF,KAAM,SACNC,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,aAAc,OAGtB,4CACElB,GAAiB,uE,iBCpClBmB,EAAY,SAACxF,GACtB,IAAM0B,EAAUC,qBAAWrC,GAErB2B,EAAK,WAAOjB,EAAMiB,MAAMC,QAAQ,IAWtC,OACI,qBAAIjB,UAAWC,IAAQuF,MAAvB,UACI,gCACI,6BAAKzF,EAAMmB,OACX,qBAAKlB,UAAWC,IAAQwF,YAAxB,SAAsC1F,EAAM0F,cAC5C,qBAAKzF,UAAWC,IAAQe,MAAxB,SAAgCA,OAEpC,8BACI,cAAC,EAAD,CAAeiE,YAjBE,SAAC7D,GAC1BK,EAAQ/B,QAAQ,CACZG,GAAIE,EAAMF,GACVqB,KAAMnB,EAAMmB,KACZE,OAAQA,EACRJ,MAAOjB,EAAMiB,iBCXnB0E,EAAe,CACjB,CACI7F,GAAI,SACJqB,KAAM,iBACNuE,YACI,mEACJzE,MAAO,OAEX,CACInB,GAAI,SACJqB,KAAM,wBACNuE,YACI,yFACJzE,MAAO,OAEX,CACInB,GAAI,SACJqB,KAAM,kBACNuE,YACI,2EACJzE,MAAO,OAEX,CACInB,GAAI,SACJqB,KAAM,mBACNuE,YACI,+EACJzE,MAAO,QAIF2E,EAAkB,SAAC5F,GAC5B,OACI,yBAASC,UAAWC,IAAQ2F,OAA5B,SACI,cAAC,EAAD,UACI,6BACKF,EAAa1D,KAAI,SAACwD,GAAD,OACd,cAAC,EAAD,CAEI3F,GAAI2F,EAAM3F,GACVqB,KAAMsE,EAAMtE,KACZuE,YAAaD,EAAMC,YACnBzE,MAAOwE,EAAMxE,OAJRwE,EAAM3F,c,iBCxC1BgG,EAAgB,WACzB,OACI,0BAAS7F,UAAWC,IAAQkB,QAA5B,UACI,oEACA,sIAIA,gJCPC2E,EAAS,SAAC/F,GACnB,OACI,qCACI,cAAC,EAAD,IACA,cAAC,EAAD,Q,QCJNgG,EAAmB,CACrBvG,MAAO,GACPC,YAAa,GAGXuG,EAAc,SAACC,EAAOC,GACxB,GAAoB,kBAAhBA,EAAOhB,KAA0B,CACjC,IASIiB,EATEC,EACFH,EAAMxG,YAAcyG,EAAOvG,KAAKqB,MAAQkF,EAAOvG,KAAKyB,OAElDiF,EAAwBJ,EAAMzG,MAAM8G,WACtC,SAAC3G,GAAD,OAAUA,EAAKE,KAAOqG,EAAOvG,KAAKE,MAGhC0G,EAAmBN,EAAMzG,MAAM6G,GAIrC,GAAIE,EAAkB,CAClB,IAAMC,EAAW,2BACVD,GADU,IAEbnF,OAAQmF,EAAiBnF,OAAS8E,EAAOvG,KAAKyB,UAElD+E,EAAY,YAAOF,EAAMzG,QACZ6G,GAAyBG,OAEtCL,EAAeF,EAAMzG,MAAMiH,OAAOP,EAAOvG,MAG7C,MAAO,CACHH,MAAO2G,EACP1G,YAAa2G,GAGrB,GAAoB,qBAAhBF,EAAOhB,KAA6B,CACpC,IAKIiB,EALEE,EAAwBJ,EAAMzG,MAAM8G,WACtC,SAAC3G,GAAD,OAAUA,EAAKE,KAAOqG,EAAOrG,MAE3B0G,EAAmBN,EAAMzG,MAAM6G,GAC/BD,EAAqBH,EAAMxG,YAAc8G,EAAiBvF,MAEhE,GAAgC,IAA5BuF,EAAiBnF,OACjB+E,EAAeF,EAAMzG,MAAMkH,QAAO,SAAC/G,GAAD,OAAUA,EAAKE,KAAOqG,EAAOrG,UAC5D,CACH,IAAM2G,EAAW,2BACVD,GADU,IAEbnF,OAAQmF,EAAiBnF,OAAS,KAEtC+E,EAAY,YAAOF,EAAMzG,QACZ6G,GAAyBG,EAG1C,MAAO,CACHhH,MAAO2G,EACP1G,YAAa2G,GAIrB,OAAOL,GAGEY,EAAe,SAAC5G,GACzB,MAAwC6G,qBAEpCZ,EACAD,GAHJ,mBAAOc,EAAP,KAAkBC,EAAlB,KAoBMC,EAAc,CAChBvH,MAAOqH,EAAUrH,MACjBC,YAAaoH,EAAUpH,YACvBC,QAjByB,SAACC,GAC1BmH,EAAmB,CACf5B,KAAM,gBACNvF,KAAMA,KAeVC,WAX8B,SAACC,GAC/BiH,EAAmB,CACf5B,KAAM,mBACNrF,GAAIA,MAWZ,OACI,cAACR,EAAY2H,SAAb,CAAsBlC,MAAOiC,EAA7B,SACKhH,EAAMS,Y,MCjEJyG,OAtBf,WACI,MAA0CvE,oBAAS,GAAnD,mBAAOwE,EAAP,KAAsBC,EAAtB,KAUA,OACI,eAAC,EAAD,WACKD,GAAiB,cAAC,EAAD,CAAM9G,QANH,WACzB+G,GAAiB,MAMb,cAAC,EAAD,CAAQzD,gBAXa,WACzByD,GAAiB,MAWb,+BACI,cAAC,EAAD,UClBhBtG,IAASuG,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,GAAD,MAEJ3G,SAASC,eAAe,W","file":"static/js/main.5ccbe1ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__jgSxP\",\"summary\":\"CartItem_summary__2hh7y\",\"price\":\"CartItem_price__1mYnY\",\"amount\":\"CartItem_amount__30QN8\",\"actions\":\"CartItem_actions__10EYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__3SPXt\",\"total\":\"Cart_total__3ZUGQ\",\"actions\":\"Cart_actions__rMsrX\",\"button--alt\":\"Cart_button--alt__38uBr\",\"button\":\"Cart_button__FTl3T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__24ZjU\",\"icon\":\"HeaderCartButton_icon__2FbRx\",\"badge\":\"HeaderCartButton_badge__Pbtra\",\"bump\":\"HeaderCartButton_bump__16Xgt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__DwhyJ\",\"modal\":\"Modal_modal__7K0NE\",\"slide-down\":\"Modal_slide-down__2ql4Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sweet\":\"SweetItem_sweet__yYXvd\",\"description\":\"SweetItem_description__2GqxH\",\"price\":\"SweetItem_price__36Kvd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__170OH\",\"main-image\":\"Header_main-image__1q20Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1xsaU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sweets\":\"AvailableSweets_sweets__1eGcL\",\"sweats-appear\":\"AvailableSweets_sweats-appear__21pvO\",\"sweets-appear\":\"AvailableSweets_sweets-appear__2a5eU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2ELw_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SweetItemForm_form__1yFJA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"SweetsSummary_summary__FfCp2\"};","import React from \"react\";\r\n\r\nexport const CartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: (item) => {},\r\n    removeItem: (id) => {},\r\n});\r\n","import ReactDOM from \"react-dom\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nconst Backdrop = (props) => {\r\n    return <div className={classes.backdrop} onClick={props.onClose} />;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n    return (\r\n        <div className={classes.modal}>\r\n            <div className={classes.content}>{props.children}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst portalElement = document.getElementById(\"overlays\");\r\n\r\nexport const Modal = (props) => {\r\n    return (\r\n        <>\r\n            {ReactDOM.createPortal(\r\n                <Backdrop onClose={props.onClose} />,\r\n                portalElement\r\n            )}\r\n            {ReactDOM.createPortal(\r\n                <ModalOverlay>{props.children}</ModalOverlay>,\r\n                portalElement\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","import classes from \"./CartItem.module.css\";\n\nexport const CartItem = (props) => {\n    const price = `$${props.price.toFixed(2)}`;\n\n    return (\n        <li className={classes[\"cart-item\"]}>\n            <div>\n                <h2>{props.name}</h2>\n                <div className={classes.summary}>\n                    <span className={classes.price}>{price}</span>\n                    <span className={classes.amount}>x {props.amount}</span>\n                </div>\n            </div>\n            <div className={classes.actions}>\n                <button onClick={props.onRemove}>−</button>\n                <button onClick={props.onAdd}>+</button>\n            </div>\n        </li>\n    );\n};\n","import { useContext } from \"react\";\r\nimport { CartContext } from \"../../store/cart-context\";\r\nimport { Modal } from \"../UI/Modal/Modal\";\r\nimport { CartItem } from \"./CartItem\";\r\nimport classes from \"./Cart.module.css\";\r\n\r\nexport const Cart = (props) => {\r\n    const cartCtx = useContext(CartContext);\r\n\r\n    const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n\r\n    const hasItems = cartCtx.items.length > 0;\r\n\r\n    const cartItemAddHandler = (item) => {\r\n        cartCtx.addItem({ ...item, amount: 1 });\r\n    };\r\n\r\n    const cartItemRemoveHandler = (id) => {\r\n        cartCtx.removeItem(id);\r\n    };\r\n\r\n    const cartItems = (\r\n        <ul className={classes[\"cart-items\"]}>\r\n            {cartCtx.items.map((item) => (\r\n                <CartItem\r\n                    key={item.id}\r\n                    name={item.name}\r\n                    amount={item.amount}\r\n                    price={item.price}\r\n                    onAdd={cartItemAddHandler.bind(null, item)}\r\n                    onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n\r\n    return (\r\n        <Modal onClose={props.onClose}>\r\n            {cartItems}\r\n            <div className={classes.total}>\r\n                <span>Total Amount</span>\r\n                <span>{totalAmount}</span>\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button\r\n                    className={classes[\"button--alt\"]}\r\n                    onClick={props.onClose}\r\n                >\r\n                    Close\r\n                </button>\r\n                {hasItems && <button className={classes.button}>Order</button>}\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n","export const CartIcon = () => {\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"currentColor\"\r\n        >\r\n            <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n        </svg>\r\n    );\r\n};\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { CartIcon } from \"../Cart/CartIcon\";\r\nimport { CartContext } from \"../../store/cart-context\";\r\nimport classes from \"./HeaderCartButton.module.css\";\r\n\r\nexport const HeaderCartButton = (props) => {\r\n    const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\r\n\r\n    const cartCtx = useContext(CartContext); //whenever the context changes the react will reevaluate the HeaderCartButton component\r\n\r\n    const numberOfCartItems = cartCtx.items.reduce((currentNumber, item) => {\r\n        return currentNumber + item.amount;\r\n    }, 0); //reduce transforms array of data into single value, second argument is a starting value\r\n\r\n    const btnClasses = `${classes.button} ${\r\n        btnIsHighlighted ? classes.bump : \"\"\r\n    }`;\r\n\r\n    const { items } = cartCtx;\r\n\r\n    useEffect(() => {\r\n        if (cartCtx.items.length === 0) {\r\n            return;\r\n        }\r\n        setBtnIsHighlighted(true);\r\n\r\n        const timer = setTimeout(() => {\r\n            setBtnIsHighlighted(false);\r\n        }, 300); //300 ms because that is the duration of animations\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, [items]);\r\n\r\n    return (\r\n        <button className={btnClasses} onClick={props.onClick}>\r\n            <span className={classes.icon}>\r\n                <CartIcon />\r\n            </span>\r\n            <span>Your cart</span>\r\n            <span className={classes.badge}>{numberOfCartItems}</span>\r\n        </button>\r\n    );\r\n};\r\n","import classes from \"./Header.module.css\";\r\n/* import cakesShelf from \"../../assets/cakesShelf.jpg\"; */\r\nimport { HeaderCartButton } from \"./HeaderCartButton\";\r\n\r\nexport const Header = (props) => {\r\n    return (\r\n        <>\r\n            <header className={classes.header}>\r\n                <h1>Sweet pleasures</h1>\r\n                <HeaderCartButton onClick={props.onShowCartModal} />\r\n            </header>\r\n            {/*  <div className={classes[\"main-image\"]}>*/}\r\n            {/* because it has dash inside of it we need to access it like this */}\r\n            {/*   <img src={cakesShelf} alt=\"A shelf full of delicious cakes!\" /> */}\r\n            {/*  </div> */}\r\n        </>\r\n    );\r\n};\r\n","import classes from \"./Card.module.css\";\r\n\r\nexport const Card = (props) => {\r\n    return <div className={classes.card}>{props.children}</div>;\r\n};\r\n","import React from \"react\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nexport const Input = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div className={classes.input}>\r\n            <label htmlFor={props.input.id}>{props.label}</label>\r\n            <input ref={ref} {...props.input} />\r\n        </div>\r\n    );\r\n});\r\n","import { useRef, useState } from \"react\";\r\nimport { Input } from \"../../UI/Input/Input\";\r\nimport classes from \"./SweetItemForm.module.css\";\r\n\r\nexport const SweetItemForm = (props) => {\r\n    const [amountIsValid, setAmountIsValid] = useState(true);\r\n    const amountInputRef = useRef();\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n\r\n        const enteredAmount = amountInputRef.current.value; //this value is always a string\r\n        const enteredAmountNumber = +enteredAmount; //thus we need to convert it to number by addint + in front of it\r\n\r\n        if (\r\n            enteredAmount.trim().length === 0 ||\r\n            enteredAmountNumber < 1 ||\r\n            enteredAmountNumber > 5\r\n        ) {\r\n            setAmountIsValid(false);\r\n            return;\r\n        }\r\n\r\n        props.onAddToCart(enteredAmountNumber);\r\n    };\r\n\r\n    return (\r\n        <form className={classes.form} onSubmit={submitHandler}>\r\n            <Input\r\n                ref={amountInputRef}\r\n                label=\"Amount\"\r\n                input={{\r\n                    id: \"amount\",\r\n                    type: \"number\",\r\n                    min: \"1\",\r\n                    max: \"5\",\r\n                    step: \"1\",\r\n                    defaultValue: \"1\",\r\n                }}\r\n            />\r\n            <button>+ Add</button>\r\n            {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\r\n        </form>\r\n    );\r\n};\r\n","import { SweetItemForm } from \"./SweetItemForm\";\r\nimport classes from \"./SweetItem.module.css\";\r\nimport { useContext } from \"react\";\r\nimport { CartContext } from \"../../../store/cart-context\";\r\n\r\nexport const SweetItem = (props) => {\r\n    const cartCtx = useContext(CartContext);\r\n\r\n    const price = `$${props.price.toFixed(2)}`;\r\n\r\n    const addItemToCartHandler = (amount) => {\r\n        cartCtx.addItem({\r\n            id: props.id,\r\n            name: props.name,\r\n            amount: amount,\r\n            price: props.price,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <li className={classes.sweet}>\r\n            <div>\r\n                <h3>{props.name}</h3>\r\n                <div className={classes.description}>{props.description}</div>\r\n                <div className={classes.price}>{price}</div>\r\n            </div>\r\n            <div>\r\n                <SweetItemForm onAddToCart={addItemToCartHandler} />\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n","import { Card } from \"../UI/Card/Card\";\r\nimport classes from \"./AvailableSweets.module.css\";\r\nimport { SweetItem } from \"./SweetItem/SweetItem\";\r\n\r\nconst DUMMY_SWEETS = [\r\n    {\r\n        id: \"sweet1\",\r\n        name: \"Chocolate cake\",\r\n        description:\r\n            \"Finest piece of chocolate cake and whipped cream decorated with \",\r\n        price: 14.99,\r\n    },\r\n    {\r\n        id: \"sweet2\",\r\n        name: \"Hot chocolate Spheres\",\r\n        description:\r\n            \"Dark chocolate spheres filled with hot chocolate mix, marshmallows and chocolate chips\",\r\n        price: 22.99,\r\n    },\r\n    {\r\n        id: \"sweet3\",\r\n        name: \"Strawberry cake\",\r\n        description:\r\n            \"Vanilla sponge cake with fresh strawberries finished with whipped cream.\",\r\n        price: 19.99,\r\n    },\r\n    {\r\n        id: \"sweet4\",\r\n        name: \"Vanilla rum cake\",\r\n        description:\r\n            \"Fantastic Vanilla flavoured cake that is filled with black chocolate and rum\",\r\n        price: 25.99,\r\n    },\r\n];\r\n\r\nexport const AvailableSweets = (props) => {\r\n    return (\r\n        <section className={classes.sweets}>\r\n            <Card>\r\n                <ul>\r\n                    {DUMMY_SWEETS.map((sweet) => (\r\n                        <SweetItem\r\n                            key={sweet.id}\r\n                            id={sweet.id}\r\n                            name={sweet.name}\r\n                            description={sweet.description}\r\n                            price={sweet.price}\r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </Card>\r\n        </section>\r\n    );\r\n};\r\n","import classes from \"./SweetsSummary.module.css\";\r\n\r\nexport const SweetsSummary = () => {\r\n    return (\r\n        <section className={classes.summary}>\r\n            <h2>Delicious Sweets, Delivered To You</h2>\r\n            <p>\r\n                Choose your favorite sweets from our broad selection of\r\n                available sweets and enjoy them at your home.\r\n            </p>\r\n            <p>\r\n                All our sweets are prepared with high-quality ingredients,\r\n                just-in-time and of course by experienced chefs!\r\n            </p>\r\n        </section>\r\n    );\r\n};\r\n","import { AvailableSweets } from \"./AvailableSweets\";\r\nimport { SweetsSummary } from \"./SweetsSummary\";\r\n\r\nexport const Sweets = (props) => {\r\n    return (\r\n        <>\r\n            <SweetsSummary />\r\n            <AvailableSweets />\r\n        </>\r\n    );\r\n};\r\n","import { useReducer } from \"react\";\r\nimport { CartContext } from \"./cart-context\";\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === \"ADD_CART_ITEM\") {\r\n        const updatedTotalAmount =\r\n            state.totalAmount + action.item.price * action.item.amount;\r\n\r\n        const existingCartItemIndex = state.items.findIndex(\r\n            (item) => item.id === action.item.id\r\n        );\r\n\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n        let updatedItems;\r\n\r\n        if (existingCartItem) {\r\n            const updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount + action.item.amount,\r\n            };\r\n            updatedItems = [...state.items];\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        } else {\r\n            updatedItems = state.items.concat(action.item); //concat creates a new array and adds elements to it, because we dont want to mutate state directly\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n        };\r\n    }\r\n    if (action.type === \"REMOVE_CART_ITEM\") {\r\n        const existingCartItemIndex = state.items.findIndex(\r\n            (item) => item.id === action.id\r\n        );\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n        const updatedTotalAmount = state.totalAmount - existingCartItem.price;\r\n        let updatedItems;\r\n        if (existingCartItem.amount === 1) {\r\n            updatedItems = state.items.filter((item) => item.id !== action.id);\r\n        } else {\r\n            const updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount - 1,\r\n            };\r\n            updatedItems = [...state.items];\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n        };\r\n    }\r\n\r\n    return defaultCartState;\r\n}; //we use it outside CartProvider component because cartReducer doesnt need anything from CartProvider and it shouldnt be reevaluated and recreated with each render of the component\r\n\r\nexport const CartProvider = (props) => {\r\n    const [cartState, dispatchCartAction] = useReducer(\r\n        //cartState is always our state snapshot\r\n        cartReducer,\r\n        defaultCartState\r\n    );\r\n\r\n    const addItemToCartHandler = (item) => {\r\n        dispatchCartAction({\r\n            type: \"ADD_CART_ITEM\",\r\n            item: item,\r\n        });\r\n    };\r\n\r\n    const removeItemFromCartHandler = (id) => {\r\n        dispatchCartAction({\r\n            type: \"REMOVE_CART_ITEM\",\r\n            id: id,\r\n        });\r\n    };\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addItemToCartHandler,\r\n        removeItem: removeItemFromCartHandler,\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider value={cartContext}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n","import { useState } from \"react\";\nimport { Cart } from \"./components/Cart/Cart\";\nimport { Header } from \"./components/Layout/Header\";\nimport { Sweets } from \"./components/Sweets/Sweets\";\nimport { CartProvider } from \"./store/CartProvider\";\nimport \"./App.css\";\n\nfunction App() {\n    const [showCartModal, setShowCartModal] = useState(false);\n\n    const showCartModalHandler = () => {\n        setShowCartModal(true);\n    };\n\n    const hideCartModalHandler = () => {\n        setShowCartModal(false);\n    };\n\n    return (\n        <CartProvider>\n            {showCartModal && <Cart onClose={hideCartModalHandler} />}\n            <Header onShowCartModal={showCartModalHandler} />\n            <main>\n                <Sweets />\n            </main>\n        </CartProvider>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}